<script>
    import ResourceOverview from './ResourceOverview.svelte';

    export let relevantResources;
    export let makeBookmarkResource;
    export let makeUnbookmarkResource;
    export let bookmarkedResourceIdSet;
</script>

<section>
    <h4>{relevantResources.length} Ressources trouv√©es</h4>

    {#if relevantResources.length === 0}
        <p>(Pas de ressource pertinente pour le moment)</p>
    {:else}
        <ul>
            {#each relevantResources as resource}
            <li>
                <ResourceOverview 
                    resource={resource}
                    bookmarkResource={makeBookmarkResource && !bookmarkedResourceIdSet.has(resource.id) && makeBookmarkResource(resource.id)}
                    unbookmarkResource={makeUnbookmarkResource && bookmarkedResourceIdSet.has(resource.id) && makeUnbookmarkResource(resource.id)}
                />
            </li>
            {/each}
        </ul>
    {/if}
</section>

<style lang="scss">
    @import "../../node_modules/@gouvfr/dsfr/packages/schemes/src/styles/settings/_colors.scss";
    h4{
        padding-bottom: 0.5rem;
        color: $blue-france-500;
    }

    ul{
        list-style: none;
        padding: 0;
        margin: 0;
    }
    li{
        display: inline-block;
        text-align: initial;

        vertical-align: top;
        width: 15rem;

        margin: 0.5rem;
    }
</style>
